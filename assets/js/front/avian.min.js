!function(a){a.fn.flowtype=function(t){var e=a.extend({maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35},t),l=function(t){var l=a(t),i=l.width(),o=i>e.maximum?e.maximum:i<e.minimum?e.minimum:i,s=o/e.fontRatio,p=s>e.maxFont?e.maxFont:s<e.minFont?e.minFont:s;l.css("font-size",p+"px")};return this.each(function(){var t=this;a(window).resize(function(){l(t)}),l(this)})}}(jQuery),init=function(){$(document).on("click",".click_comp",function(){$("#popup .modal-title").html("Selamat Anda telah menemukan clue Avian Web Hunt."),$("#popup .modal-text").html('<p>Kirimkan screenshot jawaban yang ditemukan di website Avian Brands disertai dengan watermark nama di setiap screenshot dan tag postingan jawaban ke 10 akun Facebook lainnya untuk mengikuti kuis.</p>'),$("#popup").addClass("active")}),$("body").flowtype({minimum:500,maximum:1200,minFont:12,maxFont:40,fontRatio:30});var a=0,t=0;$(document).on("click",".trigger",function(t){t.stopPropagation(),t.preventDefault(),a=$(this).attr("targid");var e=0;if(e=$(this).attr("datachoice"),e&&0!=e&&$.ajax({type:"post",url:"/index/set-choice",cache:!1,data:{choice:e},dataType:"json",success:function(a){"yes"==a.is_reload&&location.reload()},error:function(){}}),"calcpop"==a){var l=$(this).data("t"),i=$(this).data("b"),o=$(this).data("id");$("#ex_top").html(l),$("#ex_bot").html(i),$(".removelikebox").data("id",o)}if("colpop"==a){var s=$(this).attr("coltype"),p=$(this).attr("colid");$(".removecolor").data("type",s),$(".removecolor").data("id",p)}0==$(".target"+a).hasClass("active")?($(".clearable_sp").removeClass("active"),$(".target"+a).addClass("active")):($(".clearable_sp").removeClass("active"),$(".target"+a).removeClass("active")),1==$(this).hasClass("triggerscrollbar")&&setTimeout(function(){$(".scrollbarcust").customScrollbar("resize",!0)},500)}),$("._datachoice").click(function(a){a.stopPropagation(),a.preventDefault();var t=$(this).attr("datachoice");$.ajax({type:"post",url:"/index/set-choice",cache:!1,data:{choice:t},dataType:"json",success:function(a){location.reload()},error:function(){}})});var e=0,l=0,i=0,o=0;$(document).on("click",".coltrigger",function(a){l=$(this).attr("targid"),e=$(this).find(".autopalette").attr("colhex"),i=$(this).attr("colcode"),o=$(this).find(".colourboxname").text(),colid=$(this).attr("colid"),colexist=$(this).attr("colexist"),$(".target"+l).find(".colhextarg").css({"background-color":e}),$(".colcodetarg").html(i),$(".colnametarg").html(o),1==colexist?($(".savelikebox").addClass("active"),$(".savelikebox").addClass("removelikebox"),$(".savelikebox").removeClass("savelikebox"),$(".removelikebox").data("id",colid)):($(".removelikebox").addClass("savelikebox"),$(".savelikebox").removeClass("active"),$(".removelikebox").removeClass("removelikebox"),$(".savelikebox").data("id",colid))}),$(".triggergroup").click(function(e){e.stopPropagation(),e.preventDefault();var l=0;l=$(this).attr("targlink"),l&&0!=l&&(window.location=l),a=$(this).attr("targid"),t=$(this).attr("targroup"),0==$(".target"+a).hasClass("active")?($(".clearable_sp").removeClass("active"),$(".targroup"+t).removeClass("active"),$(".target"+a).addClass("active")):($(".clearable_sp").removeClass("active"),$(".target"+a).removeClass("active"))});var s=$(".disap").height();$(".disap").height(s),disap=function(){0==$(".disap").hasClass("active")?$(".disap").height(0):$(".disap").height(s)},$(".tabgroup").click(function(e){e.stopPropagation(),a=$(this).attr("targid"),t=$(this).attr("targroup"),0==$(".target"+a).hasClass("active")&&($(".clearable_sp").removeClass("active"),$(".targroup"+t).removeClass("active"),$(".target"+a).addClass("active")),disap()}),$("body").click(function(){$(".clearable").removeClass("active"),$(".clearable_sp").removeClass("active")});var p=1;$(".autopalette").each(function(){p=$(this).attr("colhex"),"undefined"!=typeof p&&$(this).css({"background-color":p})}),$(document).on("click",".needlogin",function(){$("#popup .modal-title").html("Silahkan masuk terlebih dahulu untuk menambahkan ke Kotak Favorit Anda."),$("#popup .modal-text").html('<p><button class="btn" type="button" onclick="location.href=\'/login\'">Ke Halaman Login</button></p>'),$("#popup").addClass("active")}),$(document).on("click",".needloginvisual",function(){$("#popup .modal-title").html("Silahkan masuk terlebih dahulu untuk membuat design baru."),$("#popup .modal-text").html('<p><button class="btn" type="button" onclick="location.href=\'/login\'">Ke Halaman Login</button></p>'),$("#popup").addClass("active")});var r=0,c=0,n=0;modal_repos=function(){r=$(window).height(),c=700,n=r/2,c/=2,n-=c,10>=n&&(n=10),$(".modal-window").each(function(){0==$(this).hasClass("modalofst")&&$(this).css("margin-top",n+"px")})},modal_repos(),window.addEventListener("resize",function(){modal_repos()},!1);var d=0;modal_offset=function(){d=window.pageYOffset+15,1==isNaN(d)&&(d=$(window).scrollTop()+15),$(".modal-window").css("margin-top",d+"px")},modal_offset(),$(".triggerofst").click(function(){modal_offset()}),$(".backtotop").hide(),$(function(){$(window).scroll(function(){$(this).scrollTop()>500?$(".backtotop").fadeIn():$(".backtotop").fadeOut()}),$(".backtotop a").click(function(){return $("body,html").animate({scrollTop:0},800),!1})})},colourmixer=function(){var a=0,t=0,e=0,l=0,i=0,o=0,s=0,p=0,r=0,c=0,n=0;n=$("#colourmixer").attr("defcol"),$("#cmixresult").css({"background-color":"#"+n}),changecolour=function(){a=$(this).attr("targ"),t=$(this).attr("pos"),e=parseInt($("#"+a).attr("val")),l=parseInt($(this).attr("inc")),"0"==t&&e>=0+l&&(e-=l),"1"==t&&100-l>=e&&(e+=l),$("#"+a).attr("val",e),$("#"+a).text(e+"%"),i=$("#cmxs1").attr("val"),o=$("#cmxs2").attr("val"),s=$("#cmxs3").attr("val"),$("#outcmxs1").text(i+"%"),$("#outcmxs2").text(o+"%"),$("#outcmxs3").text(s+"%"),p=Math.round(2.55*i),r=Math.round(2.55*o),c=Math.round(2.55*s),$("#cmixresult").css({"background-color":"rgb("+p+", "+r+", "+c+")"}),$(".removelikebox").length&&($("#color_name").val(""),$(".removelikebox").addClass("savelikebox"),$(".removelikebox").removeClass("active"),$(".removelikebox").removeClass("removelikebox"))},$(".cmxs_btn").click(changecolour)},visualizer=function(){var a=$(".la_s").width(),t=$(".la_s").height(),e=$("input[name=viszer_part]:radio:checked").val(),l=0,i=0,o=0,s=0,p=[],r=[];visualizer_resize=function(){setTimeout(function(){a=$(".la_s").width(),t=$(".la_s").height(),$(".viszer_la svg").each(function(){$(this).width(a),$(this).height(t)})},300)},visualizer_resize(),$(".flscrnbtn").click(function(){visualizer_resize()}),window.addEventListener("resize",function(){visualizer_resize()},!1),$(".viszer_la").each(function(){l=$(this).attr("defcol"),$(this).find("path").css({fill:l}),$(this).find("polygon").css({fill:l}),$(this).find("rect").css({fill:l})});var c=0;$(".pallabel").click(function(){c=$(this).attr("part"),$("html, body").animate({scrollTop:$(".viszer_parts").offset().top-100},500),$(".viszer_parts").customScrollbar("scrollTo","#vpc_"+c)}),$(".viszer_part").click(function(){if(e=$(this).attr("part"),o=$("#vp_"+e).attr("selpalid"),s=$("#vp_"+e).attr("selcolid"),$(".pallabel").removeClass("active"),$(".pallabel"+e).addClass("active"),$("#vp_"+e).prop("checked",!0),"undefined"==typeof r[e])getLayerPallete(e,function(a){$.isArray(a)&&("0"in a?($("#vp_"+e).attr("selpalid","a"+a[0].id),o="a"+a[0].id):($("#vp_"+e).attr("selpalid","a0"),o="a0"),$("#pallete_val").val(o),changePallete(function(a){a&&(""!=s&&"pall_a"!=s?$("#"+s).prop("checked",!0):$("input[name=viszer_pallette]").attr("checked",!1))}))});else{$("#pallete_val").empty();var a=r[e];a.length>0&&$.each(a,function(a,t){$("#pallete_val").append($("<option></option>").attr("value","a"+t.id).text(t.name))}),$("#pallete_val").val(o),changePallete(function(a){a&&(""!=s?$("#"+s).prop("checked",!0):$("input[name=viszer_pallette]").attr("checked",!1))})}setTimeout(function(){$(".scrollbarcust").customScrollbar("resize",!0)},50)}),$(document).on("click",".viszer_pall",function(){if(i=$(this).parent().attr("colhex"),"undefined"!=typeof i){$("#la"+e).find("path").css({fill:i}),$("#la"+e).find("polygon").css({fill:i}),$("#la"+e).find("rect").css({fill:i}),$("#samp_"+e).attr("colhex",i),$("#samp_"+e).css({"background-color":i}),$(".pallabel"+e).css({"border-color":i}),o=$(this).siblings("input").data("pall"),s=$(this).siblings("input").attr("id");$(".viszer_part_con input:selected");$(".viszer_part_con input:checked").attr("selpalid",o),$(".viszer_part_con input:checked").attr("selcolid",s)}});var n=0,d=0;changePallete=function(a){getPallete(function(t){d=$("#pallete_val").val(),null!=d?(n=d.slice(0,1),$(".gpals_"+n).removeClass("active"),$(".pals_"+d).addClass("active")):$(".gpals_a").removeClass("active"),a(!0)})},$("#pallete_val").change(function(){changePallete(function(){})}),getPallete=function(a){var t=$("#pallete_val").val();if(null!=t&&0==$(".pals_"+t).length){var e="";e='<div class="viszer_pallscroll scrollbarcust scrollbarcust_simple gpals_a pals_'+t+'"></div>',$(".viszer_pall_group").append(e),$(".scrollbarcust").customScrollbar({updateOnWindowResize:!0})}"undefined"==typeof p[t]?($("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/getpallete",cache:!1,data:{pallete:t},dataType:"json",success:function(e){$("#loading").removeClass("active"),1==e.is_error?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>"+e.data+"</p>"),$("#popup").addClass("active")):(p[t]=e.pallete,$.each(e.pallete.colors,function(a,t){var l='<div class="viszer_pall_cont autopalette" colhex="'+t.hex_code+'"><input type="radio" data-pall="a'+e.pallete.id+'"  id="pall_a'+e.pallete.id+t.id+'" name="viszer_pallette"/><label class="viszer_pall" for="pall_a'+e.pallete.id+t.id+'"><span>'+t.name+"</span></label></div>";$(".pals_a"+e.pallete.id+" .viewport > .overview").append(l)}),$(".autopalette").each(function(){colhex=$(this).attr("colhex"),"undefined"!=typeof colhex&&$(this).css({"background-color":colhex})}),setTimeout(function(){$(".scrollbarcust").customScrollbar("resize",!0)},50),a(!0))},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})):a(!0)},getLayerPallete=function(a,t){"undefined"==typeof r[a]?($("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/getlayerpallete",cache:!1,data:{vis_id:a},dataType:"json",success:function(e){$("#loading").removeClass("active"),1==e.is_error?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>"+e.data+"</p>"),$("#popup").addClass("active")):(r[a]=e.pallete,$("#pallete_val").empty(),e.pallete.length>0&&$.each(e.pallete,function(a,t){0==a?$("#pallete_val").append($("<option></option>").attr("value","a"+t.id).attr("selected","selected").text(t.name)):$("#pallete_val").append($("<option></option>").attr("value","a"+t.id).text(t.name))}),t(r[a]))},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})):t(!0)};var u=$("input[name='viszer_part']:checked").val();getLayerPallete(u,function(a){$.isArray(a)&&a.length>0&&($("input[name='viszer_part']:checked").attr("selpalid","a"+a[0].id),getPallete(function(a){if(a){var t=$("input[name=viszer_part]:radio:checked").attr("selcolid");""!=t?$("#"+t).prop("checked",!0):$("input[name=viszer_pallette]").attr("checked",!1)}}))}),saveVisual=function(){var a=$("#vis_id").val(),t=$("#visual_name").val(),e=$("input[name=viszer_publishstate]:radio:checked").val(),l=$("input[name=viszer_part]:radio"),i=0,o=0,s=[];l.each(function(){var a=$(this).attr("id"),t=$(this).attr("selpalid"),e=$(this).attr("selcolid");if(""==e&&(i+=1),""!=e||0!=e){var l={id:a,pal_id:t,col_id:e};s.push(l)}o+=1}),""==t?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Masukan Nama Tema</p>"),$("#popup").addClass("active")):0!=e&&1!=e?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Pilih Publish / Unpublish</p>"),$("#popup").addClass("active")):i==o?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Pilih warna minimum 1</p>"),$("#popup").addClass("active")):($("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/save_visualize",cache:!1,data:{name:t,publish:e,detail:s,vid:a},dataType:"json",success:function(a){$("#loading").removeClass("active"),1==a.is_error?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>"+a.data+"</p>"),$("#popup").addClass("active")):window.location=a.redirect},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}}))},updateVisual=function(a){var t=$("#visual_name").val(),e=$("input[name=viszer_publishstate]:radio:checked").val(),l=$("input[name=viszer_part]:radio"),i=0,o=0,s=[];l.each(function(){var a=$(this).attr("id"),t=$(this).attr("selpalid"),e=$(this).attr("selcolid");""==e&&(i+=1);var l={id:a,pal_id:t,col_id:e};s.push(l),o+=1}),""==t?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Masukan Nama Tema</p>"),$("#popup").addClass("active")):0!=e&&1!=e?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Pilih Publish / Unpublish</p>"),$("#popup").addClass("active")):i==o?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Pilih warna minimum 1</p>"),$("#popup").addClass("active")):($("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/update_visualize",cache:!1,data:{name:t,publish:e,detail:s,rid:a},dataType:"json",success:function(a){$("#loading").removeClass("active"),1==a.is_error?($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>"+a.data+"</p>"),$("#popup").addClass("active")):window.location=a.redirect},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}}))}},visualizeview=function(){var a=$(".la_s").width(),t=$(".la_s").height(),e=0;$("img.la_s").load(function(){t=$(this).height(),setHeightLa(t)}),setHeightLa=function(a){$(".viszer_la svg").each(function(){$(this).width("100%"),$(this).height(a),$(this).css("width","100%"),$(this).css("height",a)})},$(".viszer_la svg").each(function(){$(this).width(a),$(this).height(t)}),$(".viszer_la").each(function(){e=$(this).attr("defcol"),$(this).find("path").css({fill:e}),$(this).find("polygon").css({fill:e}),$(this).find("rect").css({fill:e})}),visualizer_resize=function(){setTimeout(function(){a=$(".la_s").width(),t=$(".la_s").height(),$(".viszer_la svg").each(function(){$(this).width(a),$(this).height(t)})},100)},$(".flscrnbtn").click(function(){visualizer_resize()}),window.addEventListener("resize",function(){visualizer_resize()},!1)},disapinit=function(){var a=$(".disap").height();$(".disap").height(a),disap=function(){0==$(".disap").hasClass("active")?$(".disap").height(0):$(".disap").height(a)}},likebox=function(a,t){$("#loading").addClass("active"),$.ajax({type:"post",url:"/likebox/send",cache:!1,data:{_from:a,_id:t},dataType:"json",success:function(e){$("#loading").removeClass("active"),1==e.is_error?($("#popup .modal-title").html(e.data),"Silahkan masuk terlebih dahulu untuk menambahkan ke Kotak Favorit Anda."==e.data?$("#popup .modal-text").html('<p><button class="btn" type="button" onclick="location.href=\'/login\'">Ke Halaman Login</button></p>'):$("#popup .modal-text").html(""),$("#popup").addClass("active")):($(".savelikebox").addClass("active"),$(".savelikebox").addClass("removelikebox"),$(".savelikebox").removeClass("savelikebox"),$("#popup .modal-title").html("Sukses"),$("#popup .modal-text").html("<p>Simpan ke kotak favorit.</p>"),$("#popup").addClass("active"),$('.coltrigger[colid="'+t+'"]').attr("colexist","1"),("custom_color"==a||"paint_calc"==a)&&$(".removelikebox").data("id",t))},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})},likebox_remove=function(a,t){$("#loading").addClass("active"),$.ajax({type:"post",url:"/likebox/remove",cache:!1,data:{_from:a,_id:t},dataType:"json",success:function(a){$("#loading").removeClass("active"),1==a.is_error?($("#popup .modal-title").html("Error !!!"),"Silahkan masuk terlebih dahulu untuk mengurangi Kotak Favorit Anda."==a.data?$("#popup .modal-text").html("<p>"+a.data+'</p><p><button class="btn" type="button" onclick="location.href=\'/login\'">Ke Halaman Login</button></p>'):$("#popup .modal-text").html("<p>"+a.data+"</p>"),$("#popup").addClass("active")):($(".removelikebox").removeClass("active"),$(".removelikebox").addClass("savelikebox"),$(".removelikebox").removeClass("removelikebox"),$("#popup .modal-title").html("Sukses"),$("#popup .modal-text").html("<p>Mengurangi dari Kotak Favorit.</p>"),$("#popup").addClass("active"),$('.coltrigger[colid="'+t+'"]').attr("colexist","0"))},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})},likebox_remove_inlikebox=function(a,t){$("#loading").addClass("active"),$.ajax({type:"post",url:"/likebox/remove",cache:!1,data:{_from:a,_id:t},dataType:"json",success:function(e){$("#loading").removeClass("active"),1==e.is_error?($("#popup .modal-title").html("Error !!!"),"Silahkan masuk terlebih dahulu untuk mengurangi Kotak Favorit Anda."==e.data?$("#popup .modal-text").html("<p>"+e.data+'</p><p><button class="btn" type="button" onclick="location.href=\'/login\'">Ke Halaman Login</button></p>'):$("#popup .modal-text").html("<p>"+e.data+"</p>"),$("#popup").addClass("active")):($(".clearable_sp").removeClass("active"),"paint_calc"==a?($(".targetcalcpop").removeClass("active"),$(".paintcalc[data-id='"+t+"']").remove()):($(".targetcolpop").removeClass("active"),"color"==a?$(".coltrigger[coltype='2'][colid='"+t+"']").remove():$(".coltrigger[coltype='6'][colid='"+t+"']").remove()),$("#popup .modal-title").html("Sukses"),$("#popup .modal-text").html("<p>Mengurangi dari Kotak Favorit.</p>"),$("#popup").addClass("active"))},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})};