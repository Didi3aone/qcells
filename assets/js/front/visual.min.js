var VisualList=function(){function a(){i>=e?$("#loadmore").hide():$("#loadmore").show()}var e=0,i=0;return{init:function(t){e=t;var s=$(".griddscontent");t>=1&&(i=1),a(),$("#loadmore").on("click",function(){i++,$("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/loadmore",cache:!1,data:{page:i},dataType:"json",success:function(a){$("#loading").removeClass("active"),"NG"==a.result&&($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")),$.each(a.datas,function(a,e){var i='<a href="/visualize/detail/'+e.url+'" class="griddsitem griddsitemtheme gridcol width-2 height-3"><div class="themebox"><div class="themepic"><img src="'+e.image+'"/></div><div class="themecollist">';$.each(e.colors,function(a,e){i+='<div class="themecol autopalette" colhex="'+e+'"></div>'}),i+='</div><div class="themename">'+e.name+'</div><div class="themeauth">By: '+e.member_name+"</div></div></a>";var t=$(i);s.append(t),s.masonry("appended",t)}),$(".autopalette").each(function(){colhex=$(this).attr("colhex"),$(this).css({"background-color":colhex})})},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}}),a()}),$("#search-visual").keyup(function(a){13==a.keyCode&&$("#search-btn").click()}),$("#search-btn").click(function(){var t=$("#search-visual").val();""!=t&&($("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/search",cache:!1,data:{key:t},dataType:"json",success:function(t){$("#loading").removeClass("active"),"NG"==t.result&&($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")),s.masonry("remove",s.find(".griddsitem")),s.masonry(),e=t.vis_page,i=1,a(),$.each(t.datas,function(a,e){var i='<a href="/visualize/detail/'+e.url+'" class="griddsitem griddsitemtheme gridcol width-2 height-3"><div class="themebox"><div class="themepic"><img src="'+e.image+'"/></div><div class="themecollist">';$.each(e.colors,function(a,e){i+='<div class="themecol autopalette" colhex="'+e+'"></div>'}),i+='</div><div class="themename">'+e.name+'</div><div class="themeauth">By: '+e.member_name+"</div></div></a>";var t=$(i);s.append(t),s.masonry("appended",t)}),$(".autopalette").each(function(){colhex=$(this).attr("colhex"),$(this).css({"background-color":colhex})})},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}}))}),$("#clear-btn").click(function(){$("#search-visual").val(""),$("#loading").addClass("active"),$.ajax({type:"post",url:"/visualize/clear-search",cache:!1,dataType:"json",success:function(t){$("#loading").removeClass("active"),"NG"==t.result&&($("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")),s.masonry("remove",s.find(".griddsitem")),s.masonry(),e=t.vis_page,i=1,a(),$.each(t.datas,function(a,e){var i='<a href="/visualize/detail/'+e.url+'" class="griddsitem griddsitemtheme gridcol width-2 height-3"><div class="themebox"><div class="themepic"><img src="'+e.image+'"/></div><div class="themecollist">';$.each(e.colors,function(a,e){i+='<div class="themecol autopalette" colhex="'+e+'"></div>'}),i+='</div><div class="themename">'+e.name+'</div><div class="themeauth">By: '+e.member_name+"</div></div></a>";var t=$(i);s.append(t),s.masonry("appended",t)}),$(".autopalette").each(function(){colhex=$(this).attr("colhex"),$(this).css({"background-color":colhex})})},error:function(){$("#loading").removeClass("active"),$("#popup .modal-title").html("Error !!!"),$("#popup .modal-text").html("<p>Ada Kesalahan Sistem.</p>"),$("#popup").addClass("active")}})})}}}(),VisualDetail=function(){return{init:function(){$(document).on("click",".savelikebox",function(){var a=$(this).data("id");likebox("visualizer",a)}),$(document).on("click",".removelikebox",function(){var a=$(this).data("id");likebox_remove("visualizer",a)})}}}();